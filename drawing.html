<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<meta name="author" content="vermilion bird">
		<meta name="descirption" content="Drawing page">

		<title>Enjoy Drawing!</title>

		<link href="styles/jquery.contextMenu.min.css" rel="stylesheet">
		<link href="styles/default.css" rel="stylesheet">
		<link href="styles/drawing.css" rel="stylesheet">

		<script type="text/javascript" defer="defer" src="scripts/jquery-3.5.1.js"></script>
		<script type="text/javascript" defer="defer" src="scripts/jquery.ui.position.min.js"></script>
		<script type="text/javascript" defer="defer" src="scripts/jquery.contextMenu.min.js"></script>
		<script type="text/javascript" defer="defer" src="scripts/fabric.js"></script>
		<script type="text/javascript" defer="defer" src="scripts/formula.js"></script>
		<script type="text/javascript" defer="defer" src="scripts/draw.js"></script>
	</head>
	<body class="custom-background nav-fixed">
		<div class="shiftnav-wrap" style="padding-top: 0px;">
			<header id="zan-header" class="navbar navbar-inverse navbar-fixed-top">
				<nav class="container">
					<a href="index.html">
						<div class="navbar-brand">
							Drawing-Website
						</div>
					</a>
					<div class="navbar-collapse collapse">
						<ul class="nav navbar-nav">
							<li>
									Drawing
							</li>
							<li>
								<a href="about.html">
									About us
								</a>
							</li>
						</ul>
					</div>
				</nav>
			</header>

			<div id="draw-area">
				<canvas id="background-layer" style="z-index: 0" width="1060" height="630">
					<p>Sorry, your brower doesn't support <b>canvas</b>.</p>
				</canvas>
				<canvas id="func-layer" style="z-index: 1" width="1060" height="630"></canvas>
				<canvas id="paint-layer" style="z-index: 2" width="1060" height="630"></canvas>
				<canvas id="shape-layer" style="z-index: 3" width="1060" height="630">
				</canvas>
				<div id="contextmenu-output"></div>
			</div>

			<div id="function-panel">
				<h2>Function Panel</h2>
				<div id="toolbar">
					<h3>Toolbar</h3>
					<p><button id="pen" class="btn" style="width: 60px" title="Use pen" onclick="clickPaint(); setPen(this)">Pen</button> <input id="pen-color" type="color" style="width: 25px" title="Pen color"onchange="mouse.color = this.value"> 1<input id="pen-size" type="range" value="1" min="1" max="12" step="1" title="Pen thickness" onchange="mouse.penSize = parseInt(this.value)">12</p>
					<p><button id="eraser" class="btn" style="width: 60px" title="Use eraser" onclick="clickPaint(); setEraser(this)">Eraser</button> 1<input id="eraser-size" type="range" value="1" min="1" max="30" step="1" title="Eraser thickness" onchange="mouse.eraserSize = parseInt(this.value)">30</p>
					<p><button class="btn" title="Clear all tracks" onclick="clearAllTracks(paintCtx)">Clear tracks</button>
					<p><button id="line" class="btn" title="draw a line" onclick="clickShape(); resetMFuncBtn(); addLine(shapeLayer)">line</button>
					<p><button id="circle" class="btn" title="draw a line" onclick="clickShape(); resetMFuncBtn(); addCircle(shapeLayer, 50)">circle</button>
					<p><button id="rectangle" class="btn" title="draw a line" onclick="clickShape(); resetMFuncBtn(); addRectangle(shapeLayer, 100, 100)">rect</button>
				</div>
				<div id="formula-editor">
					<h3>Formula Editor</h3>
					<div id="axis-range">
						<p>
							Axis: X:<input id="x-left-value" type="text" style="width: 35px" value="-10" onchange="changeAxis(funcCtx, axis)">~<input id="x-right-value" type="text" style="width: 35px" value="10" onchange="changeAxis(funcCtx, axis)">
							Y:<input id="y-left-value" type="text" style="width: 35px" value="-5" onchange="changeAxis(funcCtx, axis)">~<input id="y-right-value" type="text" style="width: 35px" value="5" onchange="changeAxis(funcCtx, axis)">
							<input id="show-axis" type="checkbox" title="Display axis" onchange="axis.show = this.checked; clearFuncLayer(funcCtx, axis); showAxis(funcCtx, axis); showGrid(funcCtx, axis); drawAllFunc(funcCtx, axis);">on
							<input id="grid" type="checkbox" title="Show grid" onchange="axis.displayGrid = this.checked; clearFuncLayer(funcCtx, axis); showAxis(funcCtx, axis); showGrid(funcCtx, axis); drawAllFunc(funcCtx, axis);">grid
						</p>
					</div>
					<button class="btn" title="Add a function" onclick="addAFormula()">
						Add a formula
					</button>
					<button class="btn" title="Erase all function images" onclick="eraseAllFunc(funcCtx, axis)">
						Erase all functions
					</button>
					<button class="btn" title="Reset" onclick="resetFunc(funcCtx, axis)">
						Reset
					</button>
					<div id="formulas">
						<div class="a-formula">
							<p>
								<input type="color" style="width: 25px" title="Line color" onchange="clearFuncLayer(funcCtx, axis); showAxis(funcCtx, axis); showGrid(funcCtx, axis); drawAllFunc(funcCtx, axis)">
								y=<input type="text" style="width: 130px" value="" placeholder="Function expression" onchange="clearFuncLayer(funcCtx, axis); showAxis(funcCtx, axis); showGrid(funcCtx, axis); drawAllFunc(funcCtx, axis)"><select name="drop-down-list" style="width: 18px" title="Add operators and basic functions" onchange="addOperator(this.parentNode)">
									<option value='' selected></option>
									<optgroup label="Basic operators">
										<option value="+" title="Add">+</option>
										<option value="-" title="Minus">-</option>
										<option value="*" title="Multiply">*</option>
										<option value="/" title="Divide">/</option>
										<option value="^" title="Power">^</option>
										<option value="(" title="Left parenthesis">(</option>
										<option value=")" title="Right parenthesis">)</option>
									</optgroup>
									<optgroup label="Basic functions">
										<option value="sqrt(" title="Square root">sqrt</option>
										<option value="log2(" title="Base 2 logarithm">log2</option>
										<option value="ln(" title="Natural logarithm">ln</option>
										<option value="lg(" title="Base 10 logarithm">lg</option>
										<option value="sin(" title="Sine">sin</option>
										<option value="cos(" title="Cosine">cos</option>
									</optgroup>
								</select>
								<input type="checkbox" title="Show this function" onchange="clearFuncLayer(funcCtx, axis); showAxis(funcCtx, axis); showGrid(funcCtx, axis); drawAllFunc(funcCtx, axis);">on<input type="checkbox" title="Bold line" onchange="clearFuncLayer(funcCtx, axis); showAxis(funcCtx, axis); showGrid(funcCtx, axis); drawAllFunc(funcCtx, axis);"><b>B</b>
								<button class="btn" title="Delete this function" onclick="deleteAFormula(funcCtx, axis, this.parentNode.parentNode)">
									Delete
								</button>
							</p>
						</div>
					</div>
				</div>
			</div>

			<footer id="zan-footer"> <!-- unified footer of this website -->
				<div class="container">
					Powered by
					<a href="index.html">Drawing-Website</a>
				</div>
			</footer>
		</div>
	</body>
</html>
